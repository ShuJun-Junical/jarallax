{"version":3,"file":"jarallax.min.js","sources":["../src/utils/ready.js","../src/utils/global.js","../src/core.js","../src/core.umd.js"],"sourcesContent":["function ready(callback) {\n  if (document.readyState === 'complete' || document.readyState === 'interactive') {\n    // Already ready or interactive, execute callback\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', callback, {\n      capture: true,\n      once: true,\n      passive: true,\n    });\n  }\n}\n\nexport default ready;\n","/* eslint-disable import/no-mutable-exports */\n/* eslint-disable no-restricted-globals */\nlet win;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof global !== 'undefined') {\n  win = global;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n}\n\nexport default win;\n","/* eslint-disable no-param-reassign */\nimport domReady from './utils/ready';\nimport global from './utils/global';\n\nconst { navigator } = global;\n\nconst isIE =\n  navigator.userAgent.indexOf('MSIE ') > -1 ||\n  navigator.userAgent.indexOf('Trident/') > -1 ||\n  navigator.userAgent.indexOf('Edge/') > -1;\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n  navigator.userAgent\n);\n\nconst supportTransform = (() => {\n  const prefixes = 'transform WebkitTransform MozTransform'.split(' ');\n  const div = document.createElement('div');\n  for (let i = 0; i < prefixes.length; i += 1) {\n    if (div && div.style[prefixes[i]] !== undefined) {\n      return prefixes[i];\n    }\n  }\n  return false;\n})();\n\nlet $deviceHelper;\n\n/**\n * The most popular mobile browsers changes height after page scroll and this generates image jumping.\n * We can fix it using this workaround with vh units.\n */\nfunction getDeviceHeight() {\n  if (!$deviceHelper && document.body) {\n    $deviceHelper = document.createElement('div');\n    $deviceHelper.style.cssText =\n      'position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;';\n    document.body.appendChild($deviceHelper);\n  }\n\n  return (\n    ($deviceHelper ? $deviceHelper.clientHeight : 0) ||\n    global.innerHeight ||\n    document.documentElement.clientHeight\n  );\n}\n\n// Window height data\nlet wndH;\nfunction updateWndVars() {\n  if (isMobile) {\n    wndH = getDeviceHeight();\n  } else {\n    wndH = global.innerHeight || document.documentElement.clientHeight;\n  }\n}\nupdateWndVars();\nglobal.addEventListener('resize', updateWndVars);\nglobal.addEventListener('orientationchange', updateWndVars);\nglobal.addEventListener('load', updateWndVars);\ndomReady(() => {\n  updateWndVars({\n    type: 'dom-loaded',\n  });\n});\n\n// list with all jarallax instances\n// need to render all in one scroll/resize event\nconst jarallaxList = [];\n\n// get all parents of the element.\nfunction getParents(elem) {\n  const parents = [];\n\n  while (elem.parentElement !== null) {\n    elem = elem.parentElement;\n\n    if (elem.nodeType === 1) {\n      parents.push(elem);\n    }\n  }\n\n  return parents;\n}\n\nfunction updateParallax() {\n  if (!jarallaxList.length) {\n    return;\n  }\n\n  jarallaxList.forEach((data, k) => {\n    const { instance, oldData } = data;\n\n    const clientRect = instance.$item.getBoundingClientRect();\n\n    const newData = {\n      width: clientRect.width,\n      height: clientRect.height,\n      top: clientRect.top,\n      bottom: clientRect.bottom,\n      wndW: global.innerWidth,\n      wndH,\n    };\n\n    const isResized =\n      !oldData ||\n      oldData.wndW !== newData.wndW ||\n      oldData.wndH !== newData.wndH ||\n      oldData.width !== newData.width ||\n      oldData.height !== newData.height;\n    const isScrolled =\n      isResized || !oldData || oldData.top !== newData.top || oldData.bottom !== newData.bottom;\n\n    jarallaxList[k].oldData = newData;\n\n    if (isResized) {\n      instance.onResize();\n    }\n    if (isScrolled) {\n      instance.onScroll();\n    }\n  });\n\n  global.requestAnimationFrame(updateParallax);\n}\n\nlet instanceID = 0;\n\n// Jarallax class\nclass Jarallax {\n  constructor(item, userOptions) {\n    const self = this;\n\n    self.instanceID = instanceID;\n    instanceID += 1;\n\n    self.$item = item;\n\n    self.defaults = {\n      type: 'scroll', // type of parallax: scroll, scale, opacity, scale-opacity, scroll-opacity\n      speed: 0.5, // supported value from -1 to 2\n      imgSrc: null,\n      imgElement: '.jarallax-img',\n      imgSize: 'cover',\n      imgPosition: '50% 50%',\n      imgRepeat: 'no-repeat', // supported only for background, not for <img> tag\n      keepImg: false, // keep <img> tag in it's default place\n      elementInViewport: null,\n      zIndex: -100,\n      disableParallax: false,\n      disableVideo: false,\n\n      // video\n      videoSrc: null,\n      videoStartTime: 0,\n      videoEndTime: 0,\n      videoVolume: 0,\n      videoLoop: true,\n      videoPlayOnlyVisible: true,\n      videoLazyLoading: true,\n\n      // events\n      onScroll: null, // function(calculations) {}\n      onInit: null, // function() {}\n      onDestroy: null, // function() {}\n      onCoverImage: null, // function() {}\n    };\n\n    // prepare data-options\n    const dataOptions = self.$item.dataset || {};\n    const pureDataOptions = {};\n    Object.keys(dataOptions).forEach((key) => {\n      const loweCaseOption = key.substr(0, 1).toLowerCase() + key.substr(1);\n      if (loweCaseOption && typeof self.defaults[loweCaseOption] !== 'undefined') {\n        pureDataOptions[loweCaseOption] = dataOptions[key];\n      }\n    });\n\n    self.options = self.extend({}, self.defaults, pureDataOptions, userOptions);\n    self.pureOptions = self.extend({}, self.options);\n\n    // prepare 'true' and 'false' strings to boolean\n    Object.keys(self.options).forEach((key) => {\n      if (self.options[key] === 'true') {\n        self.options[key] = true;\n      } else if (self.options[key] === 'false') {\n        self.options[key] = false;\n      }\n    });\n\n    // fix speed option [-1.0, 2.0]\n    self.options.speed = Math.min(2, Math.max(-1, parseFloat(self.options.speed)));\n\n    // prepare disableParallax callback\n    if (typeof self.options.disableParallax === 'string') {\n      self.options.disableParallax = new RegExp(self.options.disableParallax);\n    }\n    if (self.options.disableParallax instanceof RegExp) {\n      const disableParallaxRegexp = self.options.disableParallax;\n      self.options.disableParallax = () => disableParallaxRegexp.test(navigator.userAgent);\n    }\n    if (typeof self.options.disableParallax !== 'function') {\n      self.options.disableParallax = () => false;\n    }\n\n    // prepare disableVideo callback\n    if (typeof self.options.disableVideo === 'string') {\n      self.options.disableVideo = new RegExp(self.options.disableVideo);\n    }\n    if (self.options.disableVideo instanceof RegExp) {\n      const disableVideoRegexp = self.options.disableVideo;\n      self.options.disableVideo = () => disableVideoRegexp.test(navigator.userAgent);\n    }\n    if (typeof self.options.disableVideo !== 'function') {\n      self.options.disableVideo = () => false;\n    }\n\n    // custom element to check if parallax in viewport\n    let elementInVP = self.options.elementInViewport;\n    // get first item from array\n    if (\n      elementInVP &&\n      typeof elementInVP === 'object' &&\n      typeof elementInVP.length !== 'undefined'\n    ) {\n      [elementInVP] = elementInVP;\n    }\n    // check if dom element\n    if (!(elementInVP instanceof Element)) {\n      elementInVP = null;\n    }\n    self.options.elementInViewport = elementInVP;\n\n    self.image = {\n      src: self.options.imgSrc || null,\n      $container: null,\n      useImgTag: false,\n\n      // 1. Position fixed is needed for the most of browsers because absolute position have glitches\n      // 2. On MacOS with smooth scroll there is a huge lags with absolute position - https://github.com/nk-o/jarallax/issues/75\n      // 3. Previously used 'absolute' for mobile devices. But we re-tested on iPhone 12 and 'fixed' position is working better, then 'absolute', so for now position is always 'fixed'\n      position: 'fixed',\n    };\n\n    if (self.initImg() && self.canInitParallax()) {\n      self.init();\n    }\n  }\n\n  // add styles to element\n  // eslint-disable-next-line class-methods-use-this\n  css(el, styles) {\n    if (typeof styles === 'string') {\n      return global.getComputedStyle(el).getPropertyValue(styles);\n    }\n\n    // add transform property with vendor prefix\n    if (styles.transform && supportTransform) {\n      styles[supportTransform] = styles.transform;\n    }\n\n    Object.keys(styles).forEach((key) => {\n      el.style[key] = styles[key];\n    });\n    return el;\n  }\n\n  // Extend like jQuery.extend\n  // eslint-disable-next-line class-methods-use-this\n  extend(out, ...args) {\n    out = out || {};\n\n    Object.keys(args).forEach((i) => {\n      if (!args[i]) {\n        return;\n      }\n      Object.keys(args[i]).forEach((key) => {\n        out[key] = args[i][key];\n      });\n    });\n\n    return out;\n  }\n\n  // get window size and scroll position. Useful for extensions\n  // eslint-disable-next-line class-methods-use-this\n  getWindowData() {\n    return {\n      width: global.innerWidth || document.documentElement.clientWidth,\n      height: wndH,\n      y: document.documentElement.scrollTop,\n    };\n  }\n\n  // Jarallax functions\n  initImg() {\n    const self = this;\n\n    // find image element\n    let $imgElement = self.options.imgElement;\n    if ($imgElement && typeof $imgElement === 'string') {\n      $imgElement = self.$item.querySelector($imgElement);\n    }\n\n    // check if dom element\n    if (!($imgElement instanceof Element)) {\n      if (self.options.imgSrc) {\n        $imgElement = new Image();\n        $imgElement.src = self.options.imgSrc;\n      } else {\n        $imgElement = null;\n      }\n    }\n\n    if ($imgElement) {\n      if (self.options.keepImg) {\n        self.image.$item = $imgElement.cloneNode(true);\n      } else {\n        self.image.$item = $imgElement;\n        self.image.$itemParent = $imgElement.parentNode;\n      }\n      self.image.useImgTag = true;\n    }\n\n    // true if there is img tag\n    if (self.image.$item) {\n      return true;\n    }\n\n    // get image src\n    if (self.image.src === null) {\n      self.image.src =\n        'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n      self.image.bgImage = self.css(self.$item, 'background-image');\n    }\n    return !(!self.image.bgImage || self.image.bgImage === 'none');\n  }\n\n  canInitParallax() {\n    return supportTransform && !this.options.disableParallax();\n  }\n\n  init() {\n    const self = this;\n    const containerStyles = {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n    };\n    let imageStyles = {\n      pointerEvents: 'none',\n      transformStyle: 'preserve-3d',\n      backfaceVisibility: 'hidden',\n      willChange: 'transform,opacity',\n    };\n\n    if (!self.options.keepImg) {\n      // save default user styles\n      const curStyle = self.$item.getAttribute('style');\n      if (curStyle) {\n        self.$item.setAttribute('data-jarallax-original-styles', curStyle);\n      }\n      if (self.image.useImgTag) {\n        const curImgStyle = self.image.$item.getAttribute('style');\n        if (curImgStyle) {\n          self.image.$item.setAttribute('data-jarallax-original-styles', curImgStyle);\n        }\n      }\n    }\n\n    // set relative position and z-index to the parent\n    if (self.css(self.$item, 'position') === 'static') {\n      self.css(self.$item, {\n        position: 'relative',\n      });\n    }\n    if (self.css(self.$item, 'z-index') === 'auto') {\n      self.css(self.$item, {\n        zIndex: 0,\n      });\n    }\n\n    // container for parallax image\n    self.image.$container = document.createElement('div');\n    self.css(self.image.$container, containerStyles);\n    self.css(self.image.$container, {\n      'z-index': self.options.zIndex,\n    });\n\n    // fix for IE https://github.com/nk-o/jarallax/issues/110\n    if (isIE) {\n      self.css(self.image.$container, {\n        opacity: 0.9999,\n      });\n    }\n\n    self.image.$container.setAttribute('id', `jarallax-container-${self.instanceID}`);\n    self.$item.appendChild(self.image.$container);\n\n    // use img tag\n    if (self.image.useImgTag) {\n      imageStyles = self.extend(\n        {\n          'object-fit': self.options.imgSize,\n          'object-position': self.options.imgPosition,\n          // support for plugin https://github.com/bfred-it/object-fit-images\n          'font-family': `object-fit: ${self.options.imgSize}; object-position: ${self.options.imgPosition};`,\n          'max-width': 'none',\n        },\n        containerStyles,\n        imageStyles\n      );\n\n      // use div with background image\n    } else {\n      self.image.$item = document.createElement('div');\n      if (self.image.src) {\n        imageStyles = self.extend(\n          {\n            'background-position': self.options.imgPosition,\n            'background-size': self.options.imgSize,\n            'background-repeat': self.options.imgRepeat,\n            'background-image': self.image.bgImage || `url(\"${self.image.src}\")`,\n          },\n          containerStyles,\n          imageStyles\n        );\n      }\n    }\n\n    if (\n      self.options.type === 'opacity' ||\n      self.options.type === 'scale' ||\n      self.options.type === 'scale-opacity' ||\n      self.options.speed === 1\n    ) {\n      self.image.position = 'absolute';\n    }\n\n    // 1. Check if one of parents have transform style (without this check, scroll transform will be inverted if used parallax with position fixed)\n    //    discussion - https://github.com/nk-o/jarallax/issues/9\n    // 2. Check if parents have overflow scroll\n    if (self.image.position === 'fixed') {\n      const $parents = getParents(self.$item).filter((el) => {\n        const styles = global.getComputedStyle(el);\n        const parentTransform =\n          styles['-webkit-transform'] || styles['-moz-transform'] || styles.transform;\n        const overflowRegex = /(auto|scroll)/;\n\n        return (\n          (parentTransform && parentTransform !== 'none') ||\n          overflowRegex.test(styles.overflow + styles['overflow-y'] + styles['overflow-x'])\n        );\n      });\n\n      self.image.position = $parents.length ? 'absolute' : 'fixed';\n    }\n\n    // add position to parallax block\n    imageStyles.position = self.image.position;\n\n    // insert parallax image\n    self.css(self.image.$item, imageStyles);\n    self.image.$container.appendChild(self.image.$item);\n\n    // set initial position and size\n    self.onResize();\n    self.onScroll(true);\n\n    // call onInit event\n    if (self.options.onInit) {\n      self.options.onInit.call(self);\n    }\n\n    // remove default user background\n    if (self.css(self.$item, 'background-image') !== 'none') {\n      self.css(self.$item, {\n        'background-image': 'none',\n      });\n    }\n\n    self.addToParallaxList();\n  }\n\n  // add to parallax instances list\n  addToParallaxList() {\n    jarallaxList.push({\n      instance: this,\n    });\n\n    if (jarallaxList.length === 1) {\n      global.requestAnimationFrame(updateParallax);\n    }\n  }\n\n  // remove from parallax instances list\n  removeFromParallaxList() {\n    const self = this;\n\n    jarallaxList.forEach((data, key) => {\n      if (data.instance.instanceID === self.instanceID) {\n        jarallaxList.splice(key, 1);\n      }\n    });\n  }\n\n  destroy() {\n    const self = this;\n\n    self.removeFromParallaxList();\n\n    // return styles on container as before jarallax init\n    const originalStylesTag = self.$item.getAttribute('data-jarallax-original-styles');\n    self.$item.removeAttribute('data-jarallax-original-styles');\n    // null occurs if there is no style tag before jarallax init\n    if (!originalStylesTag) {\n      self.$item.removeAttribute('style');\n    } else {\n      self.$item.setAttribute('style', originalStylesTag);\n    }\n\n    if (self.image.useImgTag) {\n      // return styles on img tag as before jarallax init\n      const originalStylesImgTag = self.image.$item.getAttribute('data-jarallax-original-styles');\n      self.image.$item.removeAttribute('data-jarallax-original-styles');\n      // null occurs if there is no style tag before jarallax init\n      if (!originalStylesImgTag) {\n        self.image.$item.removeAttribute('style');\n      } else {\n        self.image.$item.setAttribute('style', originalStylesTag);\n      }\n\n      // move img tag to its default position\n      if (self.image.$itemParent) {\n        self.image.$itemParent.appendChild(self.image.$item);\n      }\n    }\n\n    // remove additional dom elements\n    if (self.$clipStyles) {\n      self.$clipStyles.parentNode.removeChild(self.$clipStyles);\n    }\n    if (self.image.$container) {\n      self.image.$container.parentNode.removeChild(self.image.$container);\n    }\n\n    // call onDestroy event\n    if (self.options.onDestroy) {\n      self.options.onDestroy.call(self);\n    }\n\n    // delete jarallax from item\n    delete self.$item.jarallax;\n  }\n\n  // it will remove some image overlapping\n  // overlapping occur due to an image position fixed inside absolute position element\n  clipContainer() {\n    // needed only when background in fixed position\n    if (this.image.position !== 'fixed') {\n      return;\n    }\n\n    const self = this;\n    const rect = self.image.$container.getBoundingClientRect();\n    const { width, height } = rect;\n\n    if (!self.$clipStyles) {\n      self.$clipStyles = document.createElement('style');\n      self.$clipStyles.setAttribute('type', 'text/css');\n      self.$clipStyles.setAttribute('id', `jarallax-clip-${self.instanceID}`);\n      const head = document.head || document.getElementsByTagName('head')[0];\n      head.appendChild(self.$clipStyles);\n    }\n\n    // clip is used for old browsers.\n    // clip-path for modern browsers (also fixes Safari v14 bug https://github.com/nk-o/jarallax/issues/181 ).\n    const styles = `#jarallax-container-${self.instanceID} {\n            clip: rect(0 ${width}px ${height}px 0);\n            clip: rect(0, ${width}px, ${height}px, 0);\n            -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\n        }`;\n\n    // add clip styles inline (this method need for support IE8 and less browsers)\n    if (self.$clipStyles.styleSheet) {\n      self.$clipStyles.styleSheet.cssText = styles;\n    } else {\n      self.$clipStyles.innerHTML = styles;\n    }\n  }\n\n  coverImage() {\n    const self = this;\n\n    const rect = self.image.$container.getBoundingClientRect();\n    const contH = rect.height;\n    const { speed } = self.options;\n    const isScroll = self.options.type === 'scroll' || self.options.type === 'scroll-opacity';\n    let scrollDist = 0;\n    let resultH = contH;\n    let resultMT = 0;\n\n    // scroll parallax\n    if (isScroll) {\n      // scroll distance and height for image\n      if (speed < 0) {\n        scrollDist = speed * Math.max(contH, wndH);\n\n        if (wndH < contH) {\n          scrollDist -= speed * (contH - wndH);\n        }\n      } else {\n        scrollDist = speed * (contH + wndH);\n      }\n\n      // size for scroll parallax\n      if (speed > 1) {\n        resultH = Math.abs(scrollDist - wndH);\n      } else if (speed < 0) {\n        resultH = scrollDist / speed + Math.abs(scrollDist);\n      } else {\n        resultH += (wndH - contH) * (1 - speed);\n      }\n\n      scrollDist /= 2;\n    }\n\n    // store scroll distance\n    self.parallaxScrollDistance = scrollDist;\n\n    // vertical center\n    if (isScroll) {\n      resultMT = (wndH - resultH) / 2;\n    } else {\n      resultMT = (contH - resultH) / 2;\n    }\n\n    // apply result to item\n    self.css(self.image.$item, {\n      height: `${resultH}px`,\n      marginTop: `${resultMT}px`,\n      left: self.image.position === 'fixed' ? `${rect.left}px` : '0',\n      width: `${rect.width}px`,\n    });\n\n    // call onCoverImage event\n    if (self.options.onCoverImage) {\n      self.options.onCoverImage.call(self);\n    }\n\n    // return some useful data. Used in the video cover function\n    return {\n      image: {\n        height: resultH,\n        marginTop: resultMT,\n      },\n      container: rect,\n    };\n  }\n\n  isVisible() {\n    return this.isElementInViewport || false;\n  }\n\n  onScroll(force) {\n    const self = this;\n\n    const rect = self.$item.getBoundingClientRect();\n    const contT = rect.top;\n    const contH = rect.height;\n    const styles = {};\n\n    // check if in viewport\n    let viewportRect = rect;\n    if (self.options.elementInViewport) {\n      viewportRect = self.options.elementInViewport.getBoundingClientRect();\n    }\n    self.isElementInViewport =\n      viewportRect.bottom >= 0 &&\n      viewportRect.right >= 0 &&\n      viewportRect.top <= wndH &&\n      viewportRect.left <= global.innerWidth;\n\n    // stop calculations if item is not in viewport\n    if (force ? false : !self.isElementInViewport) {\n      return;\n    }\n\n    // calculate parallax helping variables\n    const beforeTop = Math.max(0, contT);\n    const beforeTopEnd = Math.max(0, contH + contT);\n    const afterTop = Math.max(0, -contT);\n    const beforeBottom = Math.max(0, contT + contH - wndH);\n    const beforeBottomEnd = Math.max(0, contH - (contT + contH - wndH));\n    const afterBottom = Math.max(0, -contT + wndH - contH);\n    const fromViewportCenter = 1 - 2 * ((wndH - contT) / (wndH + contH));\n\n    // calculate on how percent of section is visible\n    let visiblePercent = 1;\n    if (contH < wndH) {\n      visiblePercent = 1 - (afterTop || beforeBottom) / contH;\n    } else if (beforeTopEnd <= wndH) {\n      visiblePercent = beforeTopEnd / wndH;\n    } else if (beforeBottomEnd <= wndH) {\n      visiblePercent = beforeBottomEnd / wndH;\n    }\n\n    // opacity\n    if (\n      self.options.type === 'opacity' ||\n      self.options.type === 'scale-opacity' ||\n      self.options.type === 'scroll-opacity'\n    ) {\n      styles.transform = 'translate3d(0,0,0)';\n      styles.opacity = visiblePercent;\n    }\n\n    // scale\n    if (self.options.type === 'scale' || self.options.type === 'scale-opacity') {\n      let scale = 1;\n      if (self.options.speed < 0) {\n        scale -= self.options.speed * visiblePercent;\n      } else {\n        scale += self.options.speed * (1 - visiblePercent);\n      }\n      styles.transform = `scale(${scale}) translate3d(0,0,0)`;\n    }\n\n    // scroll\n    if (self.options.type === 'scroll' || self.options.type === 'scroll-opacity') {\n      let positionY = self.parallaxScrollDistance * fromViewportCenter;\n\n      // fix if parallax block in absolute position\n      if (self.image.position === 'absolute') {\n        positionY -= contT;\n      }\n\n      styles.transform = `translate3d(0,${positionY}px,0)`;\n    }\n\n    self.css(self.image.$item, styles);\n\n    // call onScroll event\n    if (self.options.onScroll) {\n      self.options.onScroll.call(self, {\n        section: rect,\n\n        beforeTop,\n        beforeTopEnd,\n        afterTop,\n        beforeBottom,\n        beforeBottomEnd,\n        afterBottom,\n\n        visiblePercent,\n        fromViewportCenter,\n      });\n    }\n  }\n\n  onResize() {\n    this.coverImage();\n    this.clipContainer();\n  }\n}\n\n// global definition\nconst jarallax = function (items, options, ...args) {\n  // check for dom element\n  // thanks: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n  if (\n    typeof HTMLElement === 'object'\n      ? items instanceof HTMLElement\n      : items &&\n        typeof items === 'object' &&\n        items !== null &&\n        items.nodeType === 1 &&\n        typeof items.nodeName === 'string'\n  ) {\n    items = [items];\n  }\n\n  const len = items.length;\n  let k = 0;\n  let ret;\n\n  for (k; k < len; k += 1) {\n    if (typeof options === 'object' || typeof options === 'undefined') {\n      if (!items[k].jarallax) {\n        items[k].jarallax = new Jarallax(items[k], options);\n      }\n    } else if (items[k].jarallax) {\n      // eslint-disable-next-line prefer-spread\n      ret = items[k].jarallax[options].apply(items[k].jarallax, args);\n    }\n    if (typeof ret !== 'undefined') {\n      return ret;\n    }\n  }\n\n  return items;\n};\njarallax.constructor = Jarallax;\n\nexport default jarallax;\n","import domReady from './utils/ready';\nimport global from './utils/global';\nimport jarallax from './core';\n\nconst $ = global.jQuery;\n\n// jQuery support\nif (typeof $ !== 'undefined') {\n  const $Plugin = function (...args) {\n    Array.prototype.unshift.call(args, this);\n    const res = jarallax.apply(global, args);\n    return typeof res !== 'object' ? res : this;\n  };\n  $Plugin.constructor = jarallax.constructor;\n\n  // no conflict\n  const old$Plugin = $.fn.jarallax;\n  $.fn.jarallax = $Plugin;\n  $.fn.jarallax.noConflict = function () {\n    $.fn.jarallax = old$Plugin;\n    return this;\n  };\n}\n\n// data-jarallax initialization\ndomReady(() => {\n  jarallax(document.querySelectorAll('[data-jarallax]'));\n});\n\nexport default jarallax;\n"],"names":["ready","callback","document","readyState","addEventListener","capture","once","passive","win","window","global","self","navigator","isIE","userAgent","indexOf","isMobile","test","supportTransform","prefixes","split","div","createElement","i","length","undefined","style","$deviceHelper","wndH","updateWndVars","body","cssText","appendChild","clientHeight","innerHeight","documentElement","jarallaxList","updateParallax","forEach","data","k","instance","oldData","clientRect","$item","getBoundingClientRect","newData","width","height","top","bottom","wndW","innerWidth","isResized","isScrolled","onResize","onScroll","requestAnimationFrame","instanceID","Jarallax","constructor","item","userOptions","this","defaults","type","speed","imgSrc","imgElement","imgSize","imgPosition","imgRepeat","keepImg","elementInViewport","zIndex","disableParallax","disableVideo","videoSrc","videoStartTime","videoEndTime","videoVolume","videoLoop","videoPlayOnlyVisible","videoLazyLoading","onInit","onDestroy","onCoverImage","dataOptions","dataset","pureDataOptions","Object","keys","key","loweCaseOption","substr","toLowerCase","options","extend","pureOptions","Math","min","max","parseFloat","RegExp","disableParallaxRegexp","disableVideoRegexp","elementInVP","Element","image","src","$container","useImgTag","position","initImg","canInitParallax","init","css","el","styles","getComputedStyle","getPropertyValue","transform","out","args","getWindowData","clientWidth","y","scrollTop","$imgElement","querySelector","Image","cloneNode","$itemParent","parentNode","bgImage","containerStyles","left","overflow","imageStyles","pointerEvents","transformStyle","backfaceVisibility","willChange","curStyle","getAttribute","setAttribute","curImgStyle","opacity","$parents","elem","parents","parentElement","nodeType","push","getParents","filter","parentTransform","call","addToParallaxList","removeFromParallaxList","splice","destroy","originalStylesTag","removeAttribute","originalStylesImgTag","$clipStyles","removeChild","jarallax","clipContainer","rect","head","getElementsByTagName","styleSheet","innerHTML","coverImage","contH","isScroll","scrollDist","resultH","resultMT","abs","parallaxScrollDistance","marginTop","container","isVisible","isElementInViewport","force","contT","viewportRect","right","beforeTop","beforeTopEnd","afterTop","beforeBottom","beforeBottomEnd","afterBottom","fromViewportCenter","visiblePercent","scale","positionY","section","items","HTMLElement","nodeName","len","ret","apply","$","jQuery","$Plugin","Array","prototype","unshift","res","old$Plugin","fn","noConflict","querySelectorAll"],"mappings":"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"}